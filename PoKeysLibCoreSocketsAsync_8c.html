<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LinuxCNC PoKeysLib-Comp: /home/cnc/actions-runner/_work/LinuxCnc_PokeysLibComp/LinuxCnc_PokeysLibComp/external/pokeysHal/PoKeysLibCoreSocketsAsync.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">LinuxCNC PoKeysLib-Comp
   </div>
   <div id="projectbrief">unofficial PoKeys HAL-Component for LinuxCNC</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('PoKeysLibCoreSocketsAsync_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">PoKeysLibCoreSocketsAsync.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="PoKeysLibHal_8h_source.html">PoKeysLibHal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html">PoKeysLibCoreSocketsAsync.h</a>&quot;</code><br />
<code>#include &lt;ifaddrs.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;net/if.h&gt;</code><br />
<code>#include &quot;<a class="el" href="hal_8h_source.html">hal.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for PoKeysLibCoreSocketsAsync.c:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="PoKeysLibCoreSocketsAsync_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aed29f8e83069ff91161fc513307aecbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#aed29f8e83069ff91161fc513307aecbf">getChecksum</a> (const <a class="el" href="pokeyslib_2PoKeysLib_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *buffer)</td></tr>
<tr class="separator:aed29f8e83069ff91161fc513307aecbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a4511713f05f8d9ba2f0250f07957e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#ae3a4511713f05f8d9ba2f0250f07957e">InitializeNewDevice</a> (<a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *device)</td></tr>
<tr class="separator:ae3a4511713f05f8d9ba2f0250f07957e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d192ebf6b1b209c93b2158460c24aa2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pokeyslib_2PoKeysLib_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a2d192ebf6b1b209c93b2158460c24aa2">get_current_time_us</a> (void)</td></tr>
<tr class="separator:a2d192ebf6b1b209c93b2158460c24aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f0ed536d31208acbf5de8b6e790a6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pokeyslib_2PoKeysLib_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a77f0ed536d31208acbf5de8b6e790a6a">GetBroadcastAddressesAsync</a> ()</td></tr>
<tr class="separator:a77f0ed536d31208acbf5de8b6e790a6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c0e27c3be8b552d37183849781408e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a80c0e27c3be8b552d37183849781408e">PK_SearchNetworkDevicesAsync_Start</a> (<a class="el" href="structsPoKeysNetworkDeviceSummary.html">sPoKeysNetworkDeviceSummary</a> *devices, <a class="el" href="pokeyslib_2PoKeysLib_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> timeout_ms, <a class="el" href="pokeyslib_2PoKeysLib_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> serialNumberToFind)</td></tr>
<tr class="memdesc:a80c0e27c3be8b552d37183849781408e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts asynchronous search for PoKeys devices on the network.  <a href="PoKeysLibCoreSocketsAsync_8c.html#a80c0e27c3be8b552d37183849781408e">More...</a><br /></td></tr>
<tr class="separator:a80c0e27c3be8b552d37183849781408e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5e5b2561752bd1b0bba005c2bea314"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a1d5e5b2561752bd1b0bba005c2bea314">PK_SearchNetworkDevicesAsync_Process</a> (void)</td></tr>
<tr class="memdesc:a1d5e5b2561752bd1b0bba005c2bea314"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes incoming responses during asynchronous device search.  <a href="PoKeysLibCoreSocketsAsync_8c.html#a1d5e5b2561752bd1b0bba005c2bea314">More...</a><br /></td></tr>
<tr class="separator:a1d5e5b2561752bd1b0bba005c2bea314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af026e295100bd1c2db31bbba282f4816"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#af026e295100bd1c2db31bbba282f4816">PK_ConnectToNetworkDeviceAsync</a> (const <a class="el" href="structsPoKeysNetworkDeviceSummary.html">sPoKeysNetworkDeviceSummary</a> *device)</td></tr>
<tr class="memdesc:af026e295100bd1c2db31bbba282f4816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects to a PoKeys network device asynchronously (UDP only, Linux-only).  <a href="PoKeysLibCoreSocketsAsync_8c.html#af026e295100bd1c2db31bbba282f4816">More...</a><br /></td></tr>
<tr class="separator:af026e295100bd1c2db31bbba282f4816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a700feac8954a368ed96b0b0082747ce0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a700feac8954a368ed96b0b0082747ce0">PK_DisconnectNetworkDeviceAsync</a> (<a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *device)</td></tr>
<tr class="memdesc:a700feac8954a368ed96b0b0082747ce0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects from a PoKeys network device asynchronously.  <a href="PoKeysLibCoreSocketsAsync_8c.html#a700feac8954a368ed96b0b0082747ce0">More...</a><br /></td></tr>
<tr class="separator:a700feac8954a368ed96b0b0082747ce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56864af28148c7da0ad04535138cccd7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a56864af28148c7da0ad04535138cccd7">PK_SendEthRequestAsync</a> (<a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *device)</td></tr>
<tr class="memdesc:a56864af28148c7da0ad04535138cccd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a PoKeys request packet asynchronously (non-blocking, realtime-safe).  <a href="PoKeysLibCoreSocketsAsync_8c.html#a56864af28148c7da0ad04535138cccd7">More...</a><br /></td></tr>
<tr class="separator:a56864af28148c7da0ad04535138cccd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c7ffe51aee601c616a62ac70f985bd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#ac1c7ffe51aee601c616a62ac70f985bd">PK_RecvEthResponseAsync</a> (<a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *device)</td></tr>
<tr class="memdesc:ac1c7ffe51aee601c616a62ac70f985bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives a PoKeys response packet asynchronously (non-blocking, realtime-safe).  <a href="PoKeysLibCoreSocketsAsync_8c.html#ac1c7ffe51aee601c616a62ac70f985bd">More...</a><br /></td></tr>
<tr class="separator:ac1c7ffe51aee601c616a62ac70f985bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae3408d7f4d33757f65b1d1e7bd1071c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#aae3408d7f4d33757f65b1d1e7bd1071c">PK_SendEthRequestNoResponseAsync</a> (<a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *device)</td></tr>
<tr class="memdesc:aae3408d7f4d33757f65b1d1e7bd1071c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a PoKeys request packet asynchronously without expecting a response (fire-and-forget).  <a href="PoKeysLibCoreSocketsAsync_8c.html#aae3408d7f4d33757f65b1d1e7bd1071c">More...</a><br /></td></tr>
<tr class="separator:aae3408d7f4d33757f65b1d1e7bd1071c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1474633bdaa3d6a7b76f1b77d00ab84f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a1474633bdaa3d6a7b76f1b77d00ab84f">PK_SendEthRequestBigAsync</a> (<a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *device)</td></tr>
<tr class="memdesc:a1474633bdaa3d6a7b76f1b77d00ab84f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a large (multi-part) PoKeys request asynchronously (non-blocking).  <a href="PoKeysLibCoreSocketsAsync_8c.html#a1474633bdaa3d6a7b76f1b77d00ab84f">More...</a><br /></td></tr>
<tr class="separator:a1474633bdaa3d6a7b76f1b77d00ab84f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2afb5eaa2140bac1c02f18ec7f1dedcb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a2afb5eaa2140bac1c02f18ec7f1dedcb">PK_RecvEthBigResponseAsync</a> (<a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *device)</td></tr>
<tr class="memdesc:a2afb5eaa2140bac1c02f18ec7f1dedcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives the response to a large (multi-part) PoKeys request asynchronously.  <a href="PoKeysLibCoreSocketsAsync_8c.html#a2afb5eaa2140bac1c02f18ec7f1dedcb">More...</a><br /></td></tr>
<tr class="separator:a2afb5eaa2140bac1c02f18ec7f1dedcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a62ebd7748178cb5f3f67a9d7c7f83aa3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structPoKeysDiscoveryContext.html">PoKeysDiscoveryContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a62ebd7748178cb5f3f67a9d7c7f83aa3">discoveryCtx</a></td></tr>
<tr class="separator:a62ebd7748178cb5f3f67a9d7c7f83aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2d192ebf6b1b209c93b2158460c24aa2" name="a2d192ebf6b1b209c93b2158460c24aa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d192ebf6b1b209c93b2158460c24aa2">&#9670;&nbsp;</a></span>get_current_time_us()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pokeyslib_2PoKeysLib_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> get_current_time_us </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PoKeysLibAsync_8c_source.html#l00038">38</a> of file <a class="el" href="PoKeysLibAsync_8c_source.html">PoKeysLibAsync.c</a>.</p>

<p class="reference">References <a class="el" href="rtapi_8h.html#a935411bb5eff04e82620819db6645685">rtapi_get_time()</a>.</p>

<p class="reference">Referenced by <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00139">PK_SearchNetworkDevicesAsync_Process()</a>, <a class="el" href="PoKeysLibAsync_8c_source.html#l00313">PK_TimeoutAndRetryCheck()</a>, and <a class="el" href="PoKeysLibAsync_8c_source.html#l00219">SendRequestAsync()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_a2d192ebf6b1b209c93b2158460c24aa2_cgraph.svg" width="331" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_a2d192ebf6b1b209c93b2158460c24aa2_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a77f0ed536d31208acbf5de8b6e790a6a" name="a77f0ed536d31208acbf5de8b6e790a6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f0ed536d31208acbf5de8b6e790a6a">&#9670;&nbsp;</a></span>GetBroadcastAddressesAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pokeyslib_2PoKeysLib_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> * GetBroadcastAddressesAsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00022">22</a> of file <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html">PoKeysLibCoreSocketsAsync.c</a>.</p>

<p class="reference">References <a class="el" href="hal_8h.html#a37b839660591a915940fc471bbb5df4f">hal_malloc()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_a77f0ed536d31208acbf5de8b6e790a6a_cgraph.svg" width="368" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aed29f8e83069ff91161fc513307aecbf" name="aed29f8e83069ff91161fc513307aecbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed29f8e83069ff91161fc513307aecbf">&#9670;&nbsp;</a></span>getChecksum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getChecksum </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="pokeyslib_2PoKeysLib_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00524">PK_RecvEthBigResponseAsync()</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00369">PK_RecvEthResponseAsync()</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00329">PK_SendEthRequestAsync()</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00472">PK_SendEthRequestBigAsync()</a>, and <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00428">PK_SendEthRequestNoResponseAsync()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_aed29f8e83069ff91161fc513307aecbf_icgraph.svg" width="403" height="256"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae3a4511713f05f8d9ba2f0250f07957e" name="ae3a4511713f05f8d9ba2f0250f07957e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3a4511713f05f8d9ba2f0250f07957e">&#9670;&nbsp;</a></span>InitializeNewDevice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitializeNewDevice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >General pin settings PoKeys55, PoKeys56, PoKeys57 limitations</p><ol type="1">
<li>Pin codes used in PoKeys55 device are 0-based, e.g. pin 1 has pin code of 0, pin 55 has pin code of 54.</li>
<li>Analog input capable pins 43 to 47 have pin codes of 42 to 46.</li>
<li>Analog output capable pin 43 has pin code of 42.</li>
<li>PWM (pulse-width modulation) capable pins 17 to 22 have pin codes of 16-21 (PWM module outputs are in reversed order, e.g. pin 17 (pin coded as 16) is connected to PWM6 output – see specifications below).</li>
</ol>
<p >PoKeys57CNC device supports PWM output function on 4 pins (pins 18, 20, 21 and 22). Different duty cycles can be assigned to each PWM output however, all outputs share the same PWM period. PWM outputs can be easily amplified using an external transistor and used for control of loads with increased increased current demand - pins with such function embedded are marked as OC (open-collector) in the pinout diagram. PoKeys PWM outputs can also be used to drive various R/C servo motors that accept PWM signal with 50 Hz frequency (20 ms PWM period) and duty cycles between 5 and 10 % (1 to 2 ms). PoKeys devices have an in-built PWM module that operates at a fixed clock frequency (25 MHz). Both the PWM period and the PWM duty cycles must be expressed as number of module clock cycles (i.e. 20 ms PWM period equates to 0.020 x 25 000 000 = 500 000)</p>
<p >PoKeys57CNCpro4x25 device supports PWM output function on pins 17 and 20. Pin 17 is wired to 0- 10 V output for spindle control – the output voltage is proportional to the duty cycle of the PWM output. PWM output on pin 20 is located on dedicated connector and can be easily amplified using an external transistor and used for controlling the loads with increased current demand – we offer MOSFET power switch adapter for such purposes in PoLabs online store. The frequency of the generated PWM signal can be changed – for the analog output functionality on pin 17 to operate as designed, a PWM frequency of 20 kHz is suggested. However, if needed, the frequency of PoKeys PWM outputs can be reduced – e.g. to drive various R/C servo motors that accept PWM signal with 50 Hz frequency (20 ms PWM period) and duty cycles between 5 and 10 % (1 to 2 ms). In such case, analog output on pin 17 will not be operational. PoKeys devices have a built-in PWM module that operates at a fixed clock frequency of 25 MHz. Both the PWM period and the PWM duty cycles must be expressed as number of module clock cycles (i.e. 20 ms PWM period equates to 0.020 x 25 000 000 = 500 000).</p>
<p >General pin settings PoKeys55, PoKeys56, PoKeys57 limitations</p><ol type="1">
<li>Pin codes used in PoKeys55 device are 0-based, e.g. pin 1 has pin code of 0, pin 55 has pin code of 54.</li>
<li>Analog input capable pins 43 to 47 have pin codes of 42 to 46.</li>
<li>Analog output capable pin 43 has pin code of 42.</li>
<li>PWM (pulse-width modulation) capable pins 17 to 22 have pin codes of 16-21 (PWM module outputs are in reversed order, e.g. pin 17 (pin coded as 16) is connected to PWM6 output – see specifications below).</li>
</ol>
<p >PoKeys57CNC device supports PWM output function on 4 pins (pins 18, 20, 21 and 22). Different duty cycles can be assigned to each PWM output however, all outputs share the same PWM period. PWM outputs can be easily amplified using an external transistor and used for control of loads with increased increased current demand - pins with such function embedded are marked as OC (open-collector) in the pinout diagram. PoKeys PWM outputs can also be used to drive various R/C servo motors that accept PWM signal with 50 Hz frequency (20 ms PWM period) and duty cycles between 5 and 10 % (1 to 2 ms). PoKeys devices have an in-built PWM module that operates at a fixed clock frequency (25 MHz). Both the PWM period and the PWM duty cycles must be expressed as number of module clock cycles (i.e. 20 ms PWM period equates to 0.020 x 25 000 000 = 500 000)</p>
<p >PoKeys57CNCpro4x25 device supports PWM output function on pins 17 and 20. Pin 17 is wired to 0- 10 V output for spindle control – the output voltage is proportional to the duty cycle of the PWM output. PWM output on pin 20 is located on dedicated connector and can be easily amplified using an external transistor and used for controlling the loads with increased current demand – we offer MOSFET power switch adapter for such purposes in PoLabs online store. The frequency of the generated PWM signal can be changed – for the analog output functionality on pin 17 to operate as designed, a PWM frequency of 20 kHz is suggested. However, if needed, the frequency of PoKeys PWM outputs can be reduced – e.g. to drive various R/C servo motors that accept PWM signal with 50 Hz frequency (20 ms PWM period) and duty cycles between 5 and 10 % (1 to 2 ms). In such case, analog output on pin 17 will not be operational. PoKeys devices have a built-in PWM module that operates at a fixed clock frequency of 25 MHz. Both the PWM period and the PWM duty cycles must be expressed as number of module clock cycles (i.e. 20 ms PWM period equates to 0.020 x 25 000 000 = 500 000).</p>

<p class="definition">Definition at line <a class="el" href="pokeyslib_2PoKeysLibCore_8c_source.html#l00089">89</a> of file <a class="el" href="pokeyslib_2PoKeysLibCore_8c_source.html">PoKeysLibCore.c</a>.</p>

<p class="reference">References <a class="el" href="PoKeysLibHal_8h_source.html#l00960">sPoKeysDevice::AnalogInput</a>, <a class="el" href="PoKeysLibHal_8h_source.html#l00961">sPoKeysDevice::AnalogOutput</a>, <a class="el" href="pokeysHal_2hal-canon_2hal__canon_8h_source.html#l00246">hal_adcout_t::bit_weight</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00886">sPoKeysDevice::DeviceData</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00558">sPoKeysDevice_Data::DeviceTypeID</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00592">sPoKeysPinData::DigitalCounterAvailable</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00909">sPoKeysDevice::EasySensors</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00890">sPoKeysDevice::Encoders</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00915">sPoKeysDevice::FastEncodersConfiguration</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00916">sPoKeysDevice::FastEncodersOptions</a>, <a class="el" href="hal_8h_source.html#l00322">hal_float_t</a>, <a class="el" href="hal_8h.html#a37b839660591a915940fc471bbb5df4f">hal_malloc()</a>, <a class="el" href="pokeysHal_2hal-canon_2hal__canon_8h_source.html#l00244">hal_adcout_t::high_limit</a>, <a class="el" href="pokeysHal_2hal-canon_2hal__canon_8h_source.html#l00247">hal_adcout_t::hw_offset</a>, <a class="el" href="pokeys_8c_source.html#l00970">i</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00365">sPoKeysDevice_Info::iEasySensors</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00331">sPoKeysDevice_Info::iEncodersCount</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00347">sPoKeysDevice_Info::iMatrixLED</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00885">sPoKeysDevice::info</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00328">sPoKeysDevice_Info::iPinCount</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00349">sPoKeysDevice_Info::iPoExtBus</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00329">sPoKeysDevice_Info::iPWMCount</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00895">sPoKeysDevice::LCD</a>, <a class="el" href="pokeysHal_2hal-canon_2hal__canon_8h_source.html#l00245">hal_adcout_t::low_limit</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00892">sPoKeysDevice::matrixKB</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00894">sPoKeysDevice::MatrixLED</a>, <a class="el" href="pokeysHal_2PoKeysLib_8h_source.html#l00638">sPoKeysPWM::max_Voltage</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00938">sPoKeysDevice::multiPartBuffer</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00887">sPoKeysDevice::netDeviceData</a>, <a class="el" href="pokeysHal_2hal-canon_2hal__canon_8h_source.html#l00242">hal_adcout_t::offset</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00897">sPoKeysDevice::PEv2</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00889">sPoKeysDevice::Pins</a>, <a class="el" href="pokeyslib_2PoKeysLibDeviceData_8c_source.html#l00290">PK_DeviceDataGet()</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00176">PK_DeviceID_PoKeys57CNC</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00177">PK_DeviceID_PoKeys57CNCpro4x25</a>, <a class="el" href="pokeyslib_2PoKeysLibDeviceData_8c_source.html#l01050">PK_FillPWMPinNumbers()</a>, <a class="el" href="pokeyslib_2PoKeysLibIO_8c_source.html#l00271">PK_IsCounterAvailable()</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00922">sPoKeysDevice::PoExtBusData</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00893">sPoKeysDevice::PWM</a>, <a class="el" href="pokeysHal_2PoKeysLib_8h_source.html#l00636">sPoKeysPWM::PWManalogOutputs</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00630">sPoKeysPWM::PWMduty</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00631">sPoKeysPWM::PWMenabledChannels</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00628">sPoKeysPWM::PWMperiod</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00632">sPoKeysPWM::PWMpinIDs</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00930">sPoKeysDevice::readRetries</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00932">sPoKeysDevice::request</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00933">sPoKeysDevice::response</a>, <a class="el" href="rtapi_8h_source.html#l00164">RTAPI_MSG_ERR</a>, <a class="el" href="rtapi_8h.html#a2432d36976ec87e60c9c92d3c0067182">rtapi_print_msg()</a>, <a class="el" href="pokeysHal_2hal-canon_2hal__canon_8h_source.html#l00243">hal_adcout_t::scale</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00929">sPoKeysDevice::sendRetries</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00931">sPoKeysDevice::socketTimeout</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00917">sPoKeysDevice::UltraFastEncoderConfiguration</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00919">sPoKeysDevice::UltraFastEncoderFilter</a>, and <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00918">sPoKeysDevice::UltraFastEncoderOptions</a>.</p>

<p class="reference">Referenced by <a class="el" href="PoKeysLibCoreAsync_8c_source.html#l00770">PK_ConnectToDevice()</a>, <a class="el" href="pokeysHal_2pokeyslib_2PoKeysLibCoreSockets_8c_source.html#l00437">PK_ConnectToNetworkDevice()</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00229">PK_ConnectToNetworkDeviceAsync()</a>, <a class="el" href="PoKeysLibCoreAsync_8c_source.html#l00982">PK_ConnectToPoKeysDevice_Ethernet()</a>, and <a class="el" href="PoKeysLibCoreAsync_8c_source.html#l00862">PK_ConnectToPoKeysDevice_USB()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_ae3a4511713f05f8d9ba2f0250f07957e_cgraph.svg" width="100%" height="537"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_ae3a4511713f05f8d9ba2f0250f07957e_icgraph.svg" width="100%" height="503"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af026e295100bd1c2db31bbba282f4816" name="af026e295100bd1c2db31bbba282f4816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af026e295100bd1c2db31bbba282f4816">&#9670;&nbsp;</a></span>PK_ConnectToNetworkDeviceAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> * PK_ConnectToNetworkDeviceAsync </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsPoKeysNetworkDeviceSummary.html">sPoKeysNetworkDeviceSummary</a> *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connects to a PoKeys network device asynchronously (UDP only, Linux-only). </p>
<p >This function creates a non-blocking UDP socket and prepares the connection structure for communicating with the PoKeys device. No blocking calls (like connect or select) are used, ensuring realtime safety.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Pointer to the <a class="el" href="structsPoKeysNetworkDeviceSummary.html">sPoKeysNetworkDeviceSummary</a> structure containing the device IP address and connection parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to an initialized <a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> structure on success, or NULL on failure (e.g., memory allocation failure or socket creation error).</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Only UDP connections are supported (TCP not implemented here).</li>
<li>Socket is set to non-blocking mode immediately after creation.</li>
<li>All memory allocations use <a class="el" href="hal_8h.html#a37b839660591a915940fc471bbb5df4f">hal_malloc()</a> for realtime safety.</li>
<li>The resulting <a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> must be managed and eventually released properly.</li>
</ul>
</dd></dl>
<p>@usage After calling PK_SearchNetworkDevicesAsync and finding a device, use this function to establish a realtime-safe UDP connection to it.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a80c0e27c3be8b552d37183849781408e" title="Starts asynchronous search for PoKeys devices on the network.">PK_SearchNetworkDevicesAsync_Start()</a> </dd>
<dd>
<a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a1d5e5b2561752bd1b0bba005c2bea314" title="Processes incoming responses during asynchronous device search.">PK_SearchNetworkDevicesAsync_Process()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00229">229</a> of file <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html">PoKeysLibCoreSocketsAsync.c</a>.</p>

<p class="reference">References <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00925">sPoKeysDevice::connectionParam</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00924">sPoKeysDevice::connectionType</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00882">sPoKeysDevice::devHandle</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00883">sPoKeysDevice::devHandle2</a>, <a class="el" href="hal_8h.html#a37b839660591a915940fc471bbb5df4f">hal_malloc()</a>, <a class="el" href="pokeyslib_2PoKeysLibCore_8c_source.html#l00089">InitializeNewDevice()</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00829">sPoKeysNetworkDeviceSummary::IPaddress</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00210">PK_DeviceType_NetworkDevice</a>, and <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00836">sPoKeysNetworkDeviceSummary::useUDP</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_af026e295100bd1c2db31bbba282f4816_cgraph.svg" width="100%" height="499"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a700feac8954a368ed96b0b0082747ce0" name="a700feac8954a368ed96b0b0082747ce0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a700feac8954a368ed96b0b0082747ce0">&#9670;&nbsp;</a></span>PK_DisconnectNetworkDeviceAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PK_DisconnectNetworkDeviceAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnects from a PoKeys network device asynchronously. </p>
<p >This function closes the non-blocking UDP socket and releases any allocated memory associated with the device connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Pointer to the <a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>This function is non-blocking and safe for use inside a realtime loop.</li>
<li>It ensures that all resources are properly released.</li>
<li>The device structure itself is not freed, only the connection-related resources.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#af026e295100bd1c2db31bbba282f4816" title="Connects to a PoKeys network device asynchronously (UDP only, Linux-only).">PK_ConnectToNetworkDeviceAsync()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00291">291</a> of file <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html">PoKeysLibCoreSocketsAsync.c</a>.</p>

<p class="reference">References <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00924">sPoKeysDevice::connectionType</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00882">sPoKeysDevice::devHandle</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00883">sPoKeysDevice::devHandle2</a>, and <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00210">PK_DeviceType_NetworkDevice</a>.</p>

</div>
</div>
<a id="a2afb5eaa2140bac1c02f18ec7f1dedcb" name="a2afb5eaa2140bac1c02f18ec7f1dedcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2afb5eaa2140bac1c02f18ec7f1dedcb">&#9670;&nbsp;</a></span>PK_RecvEthBigResponseAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PK_RecvEthBigResponseAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives the response to a large (multi-part) PoKeys request asynchronously. </p>
<p >After sending a multi-part request with <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a1474633bdaa3d6a7b76f1b77d00ab84f" title="Sends a large (multi-part) PoKeys request asynchronously (non-blocking).">PK_SendEthRequestBigAsync()</a>, this function checks (non-blocking) if a valid response packet from the device is available.</p>
<p >Verifies packet start byte, request ID match, and checksum integrity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Pointer to the <a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PK_OK if a valid 64-byte response packet was received, PK_ERR_AGAIN if no packet is available yet (socket would block), PK_ERR_TRANSFER if packet received is invalid or corrupted.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Intended for use inside a polling loop after a big request was sent.</li>
<li>No retries or waiting are performed internally (caller should retry if necessary).</li>
<li>This method is realtime-safe and non-blocking.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a1474633bdaa3d6a7b76f1b77d00ab84f" title="Sends a large (multi-part) PoKeys request asynchronously (non-blocking).">PK_SendEthRequestBigAsync()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00524">524</a> of file <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html">PoKeysLibCoreSocketsAsync.c</a>.</p>

<p class="reference">References <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00882">sPoKeysDevice::devHandle</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#aed29f8e83069ff91161fc513307aecbf">getChecksum()</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html#l00012">PK_ERR_AGAIN</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00302">PK_ERR_GENERIC</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00304">PK_ERR_TRANSFER</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00301">PK_OK</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00926">sPoKeysDevice::requestID</a>, and <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00933">sPoKeysDevice::response</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_a2afb5eaa2140bac1c02f18ec7f1dedcb_cgraph.svg" width="392" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac1c7ffe51aee601c616a62ac70f985bd" name="ac1c7ffe51aee601c616a62ac70f985bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c7ffe51aee601c616a62ac70f985bd">&#9670;&nbsp;</a></span>PK_RecvEthResponseAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PK_RecvEthResponseAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives a PoKeys response packet asynchronously (non-blocking, realtime-safe). </p>
<p >Attempts to read a single UDP packet from the PoKeys device without blocking. Validates the received packet against the expected request ID and checksum. If successful, the response is stored in device-&gt;response.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Pointer to the <a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PK_OK if a valid response was received, PK_ERR_AGAIN if no data is currently available (non-fatal, try again later), PK_ERR_TRANSFER if an invalid or corrupted response was received, PK_ERR_GENERIC on invalid device handle.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>This function should be called periodically after sending a request.</li>
<li>It is non-blocking and safe for use inside a realtime loop.</li>
<li>If PK_ERR_AGAIN is returned, simply continue polling.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a56864af28148c7da0ad04535138cccd7" title="Sends a PoKeys request packet asynchronously (non-blocking, realtime-safe).">PK_SendEthRequestAsync()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00369">369</a> of file <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html">PoKeysLibCoreSocketsAsync.c</a>.</p>

<p class="reference">References <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00882">sPoKeysDevice::devHandle</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#aed29f8e83069ff91161fc513307aecbf">getChecksum()</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html#l00012">PK_ERR_AGAIN</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00302">PK_ERR_GENERIC</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00304">PK_ERR_TRANSFER</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00301">PK_OK</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00926">sPoKeysDevice::requestID</a>, and <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00933">sPoKeysDevice::response</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_ac1c7ffe51aee601c616a62ac70f985bd_cgraph.svg" width="371" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1d5e5b2561752bd1b0bba005c2bea314" name="a1d5e5b2561752bd1b0bba005c2bea314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d5e5b2561752bd1b0bba005c2bea314">&#9670;&nbsp;</a></span>PK_SearchNetworkDevicesAsync_Process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PK_SearchNetworkDevicesAsync_Process </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes incoming responses during asynchronous device search. </p>
<p >This function must be called periodically (e.g., once per realtime cycle) after <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a80c0e27c3be8b552d37183849781408e" title="Starts asynchronous search for PoKeys devices on the network.">PK_SearchNetworkDevicesAsync_Start()</a> has been called. It checks for incoming UDP packets without blocking and parses valid device discovery responses.</p>
<dl class="section return"><dt>Returns</dt><dd>PK_OK if no device yet or still waiting, PK_OK_FOUND if a device matching serialNumberToFind was found, PK_ERR_TIMEOUT if the discovery timeout expired, PK_ERR_TRANSFER on receive errors.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>This function is realtime-safe (no blocking, no dynamic memory).</li>
<li>Must be called repeatedly until PK_OK_FOUND or PK_ERR_TIMEOUT is returned.</li>
<li>Detected devices are appended to the devices array provided at Start().</li>
<li>After timeout or finding a specific device, the discovery socket is closed automatically.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a80c0e27c3be8b552d37183849781408e" title="Starts asynchronous search for PoKeys devices on the network.">PK_SearchNetworkDevicesAsync_Start()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00139">139</a> of file <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html">PoKeysLibCoreSocketsAsync.c</a>.</p>

<p class="reference">References <a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html#l00020">PoKeysDiscoveryContext::devices</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00834">sPoKeysNetworkDeviceSummary::DHCP</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00020">discoveryCtx</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00831">sPoKeysNetworkDeviceSummary::FirmwareVersionMajor</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00832">sPoKeysNetworkDeviceSummary::FirmwareVersionMinor</a>, <a class="el" href="PoKeysLibAsync_8c_source.html#l00038">get_current_time_us()</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00830">sPoKeysNetworkDeviceSummary::hostIP</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00835">sPoKeysNetworkDeviceSummary::HWtype</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00829">sPoKeysNetworkDeviceSummary::IPaddress</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html#l00021">PoKeysDiscoveryContext::nrOfDetectedBoards</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html#l00010">PK_ERR_SOCKET</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html#l00011">PK_ERR_TIMEOUT</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00304">PK_ERR_TRANSFER</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00301">PK_OK</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html#l00013">PK_OK_FOUND</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00828">sPoKeysNetworkDeviceSummary::SerialNumber</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html#l00022">PoKeysDiscoveryContext::serialNumberToFind</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html#l00018">PoKeysDiscoveryContext::start_time_us</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html#l00019">PoKeysDiscoveryContext::timeout_us</a>, and <a class="el" href="PoKeysLibCoreSocketsAsync_8h_source.html#l00017">PoKeysDiscoveryContext::txSocket</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_a1d5e5b2561752bd1b0bba005c2bea314_cgraph.svg" width="615" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a80c0e27c3be8b552d37183849781408e" name="a80c0e27c3be8b552d37183849781408e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80c0e27c3be8b552d37183849781408e">&#9670;&nbsp;</a></span>PK_SearchNetworkDevicesAsync_Start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PK_SearchNetworkDevicesAsync_Start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsPoKeysNetworkDeviceSummary.html">sPoKeysNetworkDeviceSummary</a> *&#160;</td>
          <td class="paramname"><em>devices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pokeyslib_2PoKeysLib_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pokeyslib_2PoKeysLib_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>serialNumberToFind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts asynchronous search for PoKeys devices on the network. </p>
<p >This function sends a UDP broadcast discovery packet to all available broadcast addresses and initializes an asynchronous search context. It must be followed by regular calls to <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a1d5e5b2561752bd1b0bba005c2bea314" title="Processes incoming responses during asynchronous device search.">PK_SearchNetworkDevicesAsync_Process()</a> to receive and process incoming responses.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">devices</td><td>Pointer to an array of <a class="el" href="structsPoKeysNetworkDeviceSummary.html">sPoKeysNetworkDeviceSummary</a> structures to store found devices. </td></tr>
    <tr><td class="paramname">timeout_ms</td><td>Timeout duration for the discovery process in milliseconds. </td></tr>
    <tr><td class="paramname">serialNumberToFind</td><td>Optional serial number to stop discovery early if a specific device is found (0 = find all).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PK_OK on success, PK_ERR_SOCKET on socket creation failure, PK_ERR otherwise.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Must be called once to initiate discovery.</li>
<li>Does not block. Discovery proceeds asynchronously.</li>
<li>Devices will be filled in the provided array as responses are received.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a1d5e5b2561752bd1b0bba005c2bea314" title="Processes incoming responses during asynchronous device search.">PK_SearchNetworkDevicesAsync_Process()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00079">79</a> of file <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html">PoKeysLibCoreSocketsAsync.c</a>.</p>

</div>
</div>
<a id="a56864af28148c7da0ad04535138cccd7" name="a56864af28148c7da0ad04535138cccd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56864af28148c7da0ad04535138cccd7">&#9670;&nbsp;</a></span>PK_SendEthRequestAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PK_SendEthRequestAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a PoKeys request packet asynchronously (non-blocking, realtime-safe). </p>
<p >Prepares the request buffer (sets command byte, request ID, checksum) and sends it via UDP to the PoKeys device using a non-blocking socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Pointer to the <a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PK_OK if the request was sent successfully (64 bytes), PK_ERR_TRANSFER if sending failed, PK_ERR_GENERIC on invalid device handle.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>This function only performs the sending operation.</li>
<li>Response must be checked separately via <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#ac1c7ffe51aee601c616a62ac70f985bd" title="Receives a PoKeys response packet asynchronously (non-blocking, realtime-safe).">PK_RecvEthResponseAsync()</a>.</li>
<li>Device must have been previously connected with <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#af026e295100bd1c2db31bbba282f4816" title="Connects to a PoKeys network device asynchronously (UDP only, Linux-only).">PK_ConnectToNetworkDeviceAsync()</a>.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#ac1c7ffe51aee601c616a62ac70f985bd" title="Receives a PoKeys response packet asynchronously (non-blocking, realtime-safe).">PK_RecvEthResponseAsync()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00329">329</a> of file <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html">PoKeysLibCoreSocketsAsync.c</a>.</p>

<p class="reference">References <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00882">sPoKeysDevice::devHandle</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00883">sPoKeysDevice::devHandle2</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#aed29f8e83069ff91161fc513307aecbf">getChecksum()</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00302">PK_ERR_GENERIC</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00304">PK_ERR_TRANSFER</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00301">PK_OK</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00932">sPoKeysDevice::request</a>, and <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00926">sPoKeysDevice::requestID</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_a56864af28148c7da0ad04535138cccd7_cgraph.svg" width="360" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1474633bdaa3d6a7b76f1b77d00ab84f" name="a1474633bdaa3d6a7b76f1b77d00ab84f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1474633bdaa3d6a7b76f1b77d00ab84f">&#9670;&nbsp;</a></span>PK_SendEthRequestBigAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PK_SendEthRequestBigAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a large (multi-part) PoKeys request asynchronously (non-blocking). </p>
<p >This function splits a prepared PoKeys request into 8 × 64-byte segments and sends them as a single 512-byte UDP packet to the target device.</p>
<p >This is typically used for sending larger payloads like motion buffers or extended data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Pointer to the <a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> structure, with valid multiPartData populated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PK_OK if the multi-part packet was sent successfully (512 bytes transmitted), PK_ERR_TRANSFER if sending failed, PK_ERR_GENERIC if device or buffers are invalid.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>No retries or blocking waits are performed inside this function.</li>
<li>Only works with UDP connections (TCP not supported for multi-part transfers).</li>
<li>Make sure <code>device-&gt;multiPartData</code> is filled with 448 bytes of payload data before calling.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a2afb5eaa2140bac1c02f18ec7f1dedcb" title="Receives the response to a large (multi-part) PoKeys request asynchronously.">PK_RecvEthBigResponseAsync()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00472">472</a> of file <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html">PoKeysLibCoreSocketsAsync.c</a>.</p>

<p class="reference">References <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00882">sPoKeysDevice::devHandle</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00883">sPoKeysDevice::devHandle2</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#aed29f8e83069ff91161fc513307aecbf">getChecksum()</a>, <a class="el" href="pokeys_8c_source.html#l00970">i</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00938">sPoKeysDevice::multiPartBuffer</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00936">sPoKeysDevice::multiPartData</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00302">PK_ERR_GENERIC</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00304">PK_ERR_TRANSFER</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00301">PK_OK</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00932">sPoKeysDevice::request</a>, and <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00926">sPoKeysDevice::requestID</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_a1474633bdaa3d6a7b76f1b77d00ab84f_cgraph.svg" width="382" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aae3408d7f4d33757f65b1d1e7bd1071c" name="aae3408d7f4d33757f65b1d1e7bd1071c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae3408d7f4d33757f65b1d1e7bd1071c">&#9670;&nbsp;</a></span>PK_SendEthRequestNoResponseAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PK_SendEthRequestNoResponseAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> *&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a PoKeys request packet asynchronously without expecting a response (fire-and-forget). </p>
<p >Prepares a UDP packet with correct formatting (start byte, request ID, checksum) and sends it once over the network to the PoKeys device. No response is waited for.</p>
<p >This is typically used for operations where the device executes the command without sending a confirmation (e.g., certain control or update commands).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Pointer to the <a class="el" href="structsPoKeysDevice.html">sPoKeysDevice</a> structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PK_OK if the packet was sent successfully (64 bytes transmitted), PK_ERR_TRANSFER if sending failed, PK_ERR_GENERIC if device pointer or connection is invalid.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The socket must be pre-configured and connected via <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#af026e295100bd1c2db31bbba282f4816" title="Connects to a PoKeys network device asynchronously (UDP only, Linux-only).">PK_ConnectToNetworkDeviceAsync()</a>.</li>
<li>No retries or waiting are done inside this function (caller must handle retries if needed).</li>
<li>Works in realtime-safe LinuxCNC HAL loops (non-blocking sendto()).</li>
</ul>
</dd></dl>
<p>@usage</p><ul>
<li>Prepare your device connection first.</li>
<li>Then call <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#aae3408d7f4d33757f65b1d1e7bd1071c" title="Sends a PoKeys request packet asynchronously without expecting a response (fire-and-forget).">PK_SendEthRequestNoResponseAsync()</a> whenever you need to trigger an action without awaiting feedback.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#af026e295100bd1c2db31bbba282f4816" title="Connects to a PoKeys network device asynchronously (UDP only, Linux-only).">PK_ConnectToNetworkDeviceAsync()</a> </dd>
<dd>
<a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#a56864af28148c7da0ad04535138cccd7" title="Sends a PoKeys request packet asynchronously (non-blocking, realtime-safe).">PK_SendEthRequestAsync()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00428">428</a> of file <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html">PoKeysLibCoreSocketsAsync.c</a>.</p>

<p class="reference">References <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00882">sPoKeysDevice::devHandle</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00883">sPoKeysDevice::devHandle2</a>, <a class="el" href="PoKeysLibCoreSocketsAsync_8c.html#aed29f8e83069ff91161fc513307aecbf">getChecksum()</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00302">PK_ERR_GENERIC</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00304">PK_ERR_TRANSFER</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00301">PK_OK</a>, <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00932">sPoKeysDevice::request</a>, and <a class="el" href="pokeyslib_2PoKeysLib_8h_source.html#l00926">sPoKeysDevice::requestID</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="PoKeysLibCoreSocketsAsync_8c_aae3408d7f4d33757f65b1d1e7bd1071c_cgraph.svg" width="403" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a62ebd7748178cb5f3f67a9d7c7f83aa3" name="a62ebd7748178cb5f3f67a9d7c7f83aa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62ebd7748178cb5f3f67a9d7c7f83aa3">&#9670;&nbsp;</a></span>discoveryCtx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPoKeysDiscoveryContext.html">PoKeysDiscoveryContext</a> discoveryCtx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00020">20</a> of file <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html">PoKeysLibCoreSocketsAsync.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="PoKeysLibCoreSocketsAsync_8c_source.html#l00139">PK_SearchNetworkDevicesAsync_Process()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_978ec5d2a76a72f299a5a66530651d39.html">external</a></li><li class="navelem"><a class="el" href="dir_f0ffdd1c9986c7556040ae9733c7f5ba.html">pokeysHal</a></li><li class="navelem"><a class="el" href="PoKeysLibCoreSocketsAsync_8c.html">PoKeysLibCoreSocketsAsync.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
