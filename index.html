<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LinuxCNC PoKeysLib-Comp: LinuxCnc_PokeysLibComp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">LinuxCNC PoKeysLib-Comp
   </div>
   <div id="projectbrief">unofficial PoKeys HAL-Component for LinuxCNC</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">LinuxCnc_PokeysLibComp </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md__home_cnc_actions_runner__work_LinuxCnc_PokeysLibComp_LinuxCnc_PokeysLibComp_README"></a> </p>
<h1><a class="anchor" id="autotoc_md635"></a>
Overview</h1>
<p >The LinuxCnc_PokeysLibComp project integrates PoKeys devices with LinuxCNC, providing control and monitoring capabilities. This repository contains the necessary components, scripts, and documentation to set up and use PoKeys devices with LinuxCNC.</p>
<h1><a class="anchor" id="autotoc_md636"></a>
Directory Structure</h1>
<p >The repository is organized into the following directories:</p>
<ul>
<li><code>pokeys_uspace/</code>: Contains Source of pokeys userspace component for interfacing with PoKeys devices.</li>
<li><code>pokeys_py/</code>: prepared for Contains Python scripts for interfacing with PoKeys devices.</li>
<li><code>pokeys_rt/</code>: Contains Source of pokeys_homecomp real-time component for PoKeys devices.</li>
<li><code>tests/</code>: Contains unit tests, integration tests, and other testing-related files.</li>
<li><code>docs/</code>: Contains project-related documentation.</li>
<li><code>scripts/</code>: Contains scripts for setup, configuration, and auxiliary tasks.</li>
</ul>
<h1><a class="anchor" id="autotoc_md637"></a>
Installation</h1>
<p >To install the LinuxCnc_PokeysLibComp project, follow these steps:</p>
<div class="fragment"><div class="line">git clone https://github.com/zarfld/LinuxCnc_PokeysLibComp.git</div>
<div class="line">cd LinuxCnc_PokeysLibComp</div>
<div class="line">sudo sh install.sh</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md638"></a>
Running the UI Setup Tool - !!! planned feature - Work in progress  - do NOT use!!!</h1>
<p >After installation you can launch the graphical configuration utility with:</p>
<div class="fragment"><div class="line">python -m pokeys_py</div>
</div><!-- fragment --><p >Importing the <code>pokeys_py</code> package no longer performs any device actions or telemetry initialization. Hardware is only accessed when the setup tool or <code>run_ui_setup_tool</code> function is invoked.</p>
<h1><a class="anchor" id="autotoc_md639"></a>
Hardware Requirements</h1>
<p >The project has been tested with the following hardware:</p>
<ul>
<li>RaspberryPi4 (for LinuxCNC)</li>
<li>PoKeys57E</li>
<li>PoExtBusOC16CNC for Axes-Stepper Enable/Pulse/Dir</li>
<li>CNC keyboard – PoNETkbd48CNC</li>
<li>PoRelay8 – Relay extension board</li>
<li>PoExtBusOC16</li>
<li>PoKeys57CNC</li>
<li>PoStep25-32 (v1.3)</li>
</ul>
<h1><a class="anchor" id="autotoc_md640"></a>
Library Status</h1>
<p >The following features have been implemented and tested:</p>
<ul>
<li>[e] Connecting to USB devices</li>
<li>[x] Connecting to network devices</li>
<li>[x] Reading device data</li>
<li>[x] Reading digital inputs</li>
<li>[x] Writing digital outputs</li>
<li>[x] Reading analog inputs</li>
<li>[x] PoExtBus writing</li>
<li>[x] PoExtBus reading</li>
<li>[ ] LCD operations</li>
<li>[ ] Matrix LED</li>
<li>[x] Setting pin functions</li>
<li>[x] Reading pin functions</li>
<li>[ ] Setting pin key codes</li>
<li>[ ] Reading pin key codes</li>
<li>[x] PWM operations</li>
<li>[x] Pulse engine operations</li>
<li>[i] Matrix keyboard setup</li>
<li>[i] Matrix keyboard reading</li>
<li>[x] kbd48CNC set LED</li>
<li>[x] kbd48CNC get Button Status</li>
<li>[x] Using encoders</li>
<li>[ ] I2C operations</li>
<li>[ ] SPI operation</li>
<li>[ ] PoIL operations</li>
<li>[i] 1-wire operations</li>
</ul>
<p >x ... available i ... implemented but not tested ! ... implemented but not working yet p ... planned e ... known issue</p>
<h2><a class="anchor" id="autotoc_md641"></a>
PoRelay8:</h2>
<ul>
<li>[x] needs to be connected in Parallel to kbd48CNC with white PoExt Cable OR using Canbus (connecting it using the Red PoExtBus cable to the i2C extender which is delivered with kbd48CNC will not work)</li>
<li>[x] if it is used together with "non smart" PoExtBus devices (e.g. PoExtBusOC16) use "PoExtBus - Smart" page on Pokeys-SW to set "Sequence ID"</li>
<li>[ ] inputs not available (yet?)</li>
</ul>
<h2><a class="anchor" id="autotoc_md642"></a>
PoExtBusOC16</h2>
<ul>
<li>[x] can be set using pokeys.0.PoExtBus.#.Out-0..7 (all 16outs can be used pokeys.0.PoExtBus.0 and pokeys.0.PoExtBus.1)</li>
<li>[ ] inputs not available</li>
</ul>
<h2><a class="anchor" id="autotoc_md643"></a>
PoExtBusOC16CNC</h2>
<ul>
<li>see "PulseEnginev2"</li>
</ul>
<h2><a class="anchor" id="autotoc_md644"></a>
kbd48CNC:</h2>
<ul>
<li>[x] using as PoNet-extension buard attached to Pokeys57E</li>
<li>[x] using CanBus (6Pin MicroMatch Connector) directly on Pokeys57CNC</li>
</ul>
<h2><a class="anchor" id="autotoc_md645"></a>
Pokeys57E</h2>
<ul>
<li>[x] connected using Ethernet</li>
<li>[x] Read&amp;Set of Digital IO on HalPins pokeys.0.Pins.*.DigitalValueGet / DigitalValueSet</li>
<li>[x] Readt of AnalogValue IO on HalPins pokeys.0.Pins.*.AnalogValue on the pins that support that</li>
<li>periphals listed above was tested on this device.</li>
</ul>
<p >changing structure of IOs to "Canonical Device Interface" in work</p>
<h2><a class="anchor" id="autotoc_md646"></a>
Pokeys57CNC</h2>
<ul>
<li>[x] connected using USB</li>
<li>[x] connected using Ethernet</li>
<li>[x] LinuxCNC example config in Work (using the pinsetup as available on PCB)</li>
<li>[x] Switchng OC Outputs pokeys.0.PEv2.ExternalOCOutput.0..3</li>
<li>[x] Switchng Relay Outputs (SSR1 &amp; 2 -&gt; pokeys.0.PEv2.ExternalRelayOutput.0 &amp; 1) (SSR1 &amp; 2 -&gt; pokeys.0.PEv2.ExternalRelayOutput.0 &amp; 1)</li>
<li>using USB connection seems "faster" than using ethernet - may depend on networksetup (networkswitch vs. direct connection)</li>
</ul>
<h2><a class="anchor" id="autotoc_md647"></a>
Pokeys57E</h2>
<ul>
<li>[ ] connected using USB (currently could not connect on newer distributions see issue #231 )</li>
</ul>
<h2><a class="anchor" id="autotoc_md648"></a>
PulseEnginev2</h2>
<ul>
<li>[x] Setting Status Running/Stop depending on LinuxCNC state ("machine-on")</li>
<li>[x] Reading Status of Limit+/- and Home switches</li>
<li>[x] setting External OC and RelayOutputs - in case that "Extended IO" is available and activated (Pokeys57CNC)</li>
<li>[x] setting PinConfiguration for Limits, Home, Probe &amp; Emergency switches based in LinuxCNC-INI configuration - not reliable</li>
<li>[x] parametrizing MaxSpeed, MaxAccelleration, ... based on LinuxCNC configuarion (mm/sec to pulses/sec conversion is being done using JOINT.*.STEPSCALE)</li>
</ul>
<h1><a class="anchor" id="autotoc_md649"></a>
HAL Interface</h1>
<h2><a class="anchor" id="autotoc_md650"></a>
Pokeys Pin</h2>
<p ><img src="https://github.com/user-attachments/assets/d0f7cb2d-aeb1-4d77-87f3-09857c2719b9" alt="image" class="inline"/></p>
<p >Count: 55</p>
<h3><a class="anchor" id="autotoc_md651"></a>
Parameters</h3>
<ul>
<li>pokeys.[DevID].Pin.[PinID].PinFunction int PinFunction to be set for corresponding pin see ePK_PinCap</li>
</ul>
<p >the PinFunction can be set using followin enumeration. Note that e.g. digitalInput or digitalOutput could be directly inverted on pokeys by adding value 128 (PK_PinCap_digitalOutput+PK_PinCap_invertPin or 2 + 128 = 130):</p>
<p >add. Note: for PK_PinCap_analogOutput has not been used so far currently only PWM functionality has been used instead that is what is being used for (pins 18, 20, 21 and 22)</p>
<div class="fragment"><div class="line">enum ePK_PinCap</div>
<div class="line">{</div>
<div class="line">    PK_PinCap_pinRestricted  = 0,           // Pin is not used</div>
<div class="line">    PK_PinCap_reserved       = 1,           // --</div>
<div class="line">    PK_PinCap_digitalInput   = 2,           // Digital input</div>
<div class="line">    PK_PinCap_digitalOutput  = 4,           // Digital output</div>
<div class="line">    PK_PinCap_analogInput    = 8,           // Analog input (only on selected pins)</div>
<div class="line">    PK_PinCap_analogOutput   = 16,          // Analog output (only on selected pins)</div>
<div class="line">    PK_PinCap_triggeredInput = 32,          // Triggered input</div>
<div class="line">    PK_PinCap_digitalCounter = 64,          // Digital counter (only on selected pins)</div>
<div class="line">    PK_PinCap_invertPin      = 128          // Invert digital pin polarity (set together with digital input, output or triggered input)</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md652"></a>
Digital Input</h2>
<p >Count: 55</p>
<h3><a class="anchor" id="autotoc_md653"></a>
Pins</h3>
<ul>
<li>pokeys.[DevID].digin.[PinID].in bit State of the hardware input</li>
<li>pokeys.[DevID].digin.[PinID].in-not bit Inverted state of the input.</li>
</ul>
<h3><a class="anchor" id="autotoc_md654"></a>
Parameters</h3>
<ul>
<li><code>pokeys.[DevID].digin.[PinID].invert</code> bit invert Pin on pokeys using PK_PinCap_invertPin on PinFunction</li>
</ul>
<h2><a class="anchor" id="autotoc_md655"></a>
Digital Output</h2>
<p >Count: 55</p>
<h3><a class="anchor" id="autotoc_md656"></a>
Pins</h3>
<ul>
<li><code>pokeys.[DevID].digout.[PinID].out</code> bit Value to be written (possibly inverted) to the hardware output</li>
</ul>
<h3><a class="anchor" id="autotoc_md657"></a>
Parameters</h3>
<ul>
<li><code>pokeys.[DevID].digout.[PinID].invert</code> bit invert Pin on pokeys using PK_PinCap_invertPin on PinFunction</li>
</ul>
<h2><a class="anchor" id="autotoc_md658"></a>
Analog Input</h2>
<p >Count: 7</p>
<h3><a class="anchor" id="autotoc_md659"></a>
Pins</h3>
<ul>
<li><code>pokeys.[DevID].adcin.[AdcId].value-raw</code> float The hardware reading</li>
<li><code>pokeys.[DevID].adcin.[AdcId].value</code> float The hardware reading, scaled according to the scale and offset parameters</li>
</ul>
<h3><a class="anchor" id="autotoc_md660"></a>
Parameters</h3>
<ul>
<li><code>pokeys.[DevID].adcin.[AdcId].scale</code> float The input voltage (or current) will be multiplied by scale before being output to value</li>
<li><code>pokeys.[DevID].adcin.[AdcId].offset</code> float This will be subtracted from the hardware input voltage (or current) after the scale multiplier has been applied</li>
</ul>
<h2><a class="anchor" id="autotoc_md661"></a>
Analog Output (PWM)</h2>
<p ><img src="https://github.com/user-attachments/assets/2cbabe83-ed07-4ff1-9151-ba896d139e8b" alt="image" class="inline"/></p>
<p >Count: 6</p>
<h3><a class="anchor" id="autotoc_md662"></a>
Pins</h3>
<ul>
<li><code>pokeys.[DevID].adcout.[AdcId].value</code>: The value to be written. The actual value output to the hardware will depend on the scale and offset parameters</li>
<li><code>pokeys.[DevID].adcout.[AdcId].enable</code>: If false, then output 0 to the hardware, regardless of the value pin</li>
</ul>
<h3><a class="anchor" id="autotoc_md663"></a>
Parameters</h3>
<ul>
<li><code>pokeys.[DevID].adcout.[AdcId].offset</code>: This will be added to the value before the hardware is updated</li>
<li><code>pokeys.[DevID].adcout.[AdcId].scale</code>: This should be set so that an input of 1 on the value pin will cause 1V</li>
<li><code>pokeys.[DevID].adcout.[AdcId].high_limit</code>: When calculating the value to output to the hardware, if value + offset is greater than high_limit, then high_limit will be used instead</li>
<li><code>pokeys.[DevID].adcout.[AdcId].low_limit</code>: When calculating the value to output to the hardware, if value + offset is less than low_limit, then low_limit will be used instead</li>
<li><code>pokeys.[DevID].adcout.[AdcId].max_v</code>: Max output voltage</li>
<li><code>pokeys.[DevID].adcout.pwm.period</code>: PWM period, shared among all channels</li>
</ul>
<h2><a class="anchor" id="autotoc_md664"></a>
Encoder</h2>
<p >Count: 29</p>
<h3><a class="anchor" id="autotoc_md665"></a>
Pins</h3>
<ul>
<li>pokeys.[DevID].encoder.[EncId].count; S32 Encoder value in counts.</li>
<li>pokeys.[DevID].encoder.[EncId].position; FLOAT Encoder value in position units (see parameter “scale”).</li>
<li><strike>pokeys.[DevID].encoder.[EncId].velocity; FLOAT Velocity in position units per second</strike></li>
<li>pokeys.[DevID].encoder.[EncId].reset; BIT When True, force counter to zero</li>
<li><strike>pokeys.[DevID].encoder.[EncId].index-enable; BIT (bidirectional) When True, reset to zero on next index pulse, and set pin False.</strike></li>
</ul>
<h3><a class="anchor" id="autotoc_md666"></a>
Parameters</h3>
<ul>
<li>pokeys.[DevID]. encoder.[EncId].scale FLOAT "The scale factor used to convert counts to position units. It is in “counts per position unit”";</li>
</ul>
<h2><a class="anchor" id="autotoc_md667"></a>
Real-Time Clock</h2>
<h3><a class="anchor" id="autotoc_md668"></a>
Pins</h3>
<ul>
<li><code>pokeys.[DevID].rtc.sec</code>: Second</li>
<li><code>pokeys.[DevID].rtc.min</code>: Minute</li>
<li><code>pokeys.[DevID].rtc.hour</code>: Hour</li>
<li><code>pokeys.[DevID].rtc.dow</code>: Day of week</li>
<li><code>pokeys.[DevID].rtc.dom</code>: Day of month</li>
<li><code>pokeys.[DevID].rtc.doy</code>: Day of year</li>
<li><code>pokeys.[DevID].rtc.month</code>: Month</li>
<li><code>pokeys.[DevID].rtc.year</code>: Year</li>
<li><code>pokeys.[DevID].rtc.loop_frequ</code>: Actual loop frequency of pokeys.comp updated after rtc.sec changed</li>
<li><code>pokeys.[DevID].rtc.loop_frequ_demand</code>: Demand value for loop frequency (if 0, default of 10Hz will be used)</li>
</ul>
<h2><a class="anchor" id="autotoc_md669"></a>
Pulse Engine</h2>
<p ><img src="https://github.com/user-attachments/assets/7e5205bd-206e-47c1-8ed5-7084deec5348" alt="image" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md670"></a>
Pulse Generator options</h3>
<p ><img src="https://github.com/user-attachments/assets/11616183-3ac6-4e62-9b90-539d05009d5a" alt="image" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md671"></a>
Motion Parameters</h3>
<p ><img src="https://github.com/user-attachments/assets/e5ecda16-c469-4b2d-9326-4ca26beaaf1a" alt="image" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md672"></a>
Emergency Pin</h3>
<h3><a class="anchor" id="autotoc_md673"></a>
Limit Switches</h3>
<p ><img src="https://github.com/user-attachments/assets/77c3ed81-c1cf-4005-b674-b3e04fdacf3a" alt="image" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md674"></a>
Home/Ref switch</h3>
<p ><img src="https://github.com/user-attachments/assets/8e240b6d-f876-46a8-af00-23ac77b827f3" alt="image" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md675"></a>
Axis enable output pin</h3>
<p ><img src="https://github.com/user-attachments/assets/2df47a81-f1a3-40c2-99a2-010a8b672413" alt="image" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md676"></a>
Aux. outputs</h3>
<p ><img src="https://github.com/user-attachments/assets/3d8df6b2-d5df-4afc-9c14-a8d45ca47309" alt="image" class="inline"/></p>
<p >This section provides access to external <b>Relay</b> and <b>Open-Collector (OC)</b> outputs available on PoKeys devices that support Pulse Engine v2 (PEv2).</p>
<h4><a class="anchor" id="autotoc_md677"></a>
HAL Pins</h4>
<p >The following HAL output pins are exposed by the component:</p>
<h5>Relay Outputs</h5>
<p >pokeys.[DevID].PEv2.digout.ExternalRelay-0.out pokeys.[DevID].PEv2.digout.ExternalRelay-1.out pokeys.[DevID].PEv2.digout.ExternalRelay-2.out pokeys.[DevID].PEv2.digout.ExternalRelay-3.out</p>
<h5>OC Outputs</h5>
<p >pokeys.[DevID].PEv2.digout.ExternalOC-0.out pokeys.[DevID].PEv2.digout.ExternalOC-1.out pokeys.[DevID].PEv2.digout.ExternalOC-2.out pokeys.[DevID].PEv2.digout.ExternalOC-3.out</p>
<p >These pins correspond to the checkboxes shown in the <em>Aux. outputs</em> section of the PoKeys configuration utility:</p>
<h2><a class="anchor" id="autotoc_md678"></a>
Relay Outputs</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">UI Label   </th><th class="markdownTableHeadNone">HAL Pin   </th><th class="markdownTableHeadNone">PoKeys57CNC   </th><th class="markdownTableHeadNone">PoKeys57CNCpro4x25   </th><th class="markdownTableHeadNone">PoKeysCNCaddon    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone"><code>pokeys.[DevID].PEv2.digout.ExternalRelay-0.out</code>   </td><td class="markdownTableBodyNone">SSR1   </td><td class="markdownTableBodyNone">FAN Control   </td><td class="markdownTableBodyNone">Relay1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone"><code>pokeys.[DevID].PEv2.digout.ExternalRelay-1.out</code>   </td><td class="markdownTableBodyNone">SSR2   </td><td class="markdownTableBodyNone">Plasma Relay   </td><td class="markdownTableBodyNone">Relay2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone"><code>pokeys.[DevID].PEv2.digout.ExternalRelay-2.out</code>   </td><td class="markdownTableBodyNone">Relay1   </td><td class="markdownTableBodyNone">Relay1   </td><td class="markdownTableBodyNone">Relay3    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone"><code>pokeys.[DevID].PEv2.digout.ExternalRelay-3.out</code>   </td><td class="markdownTableBodyNone">Relay2   </td><td class="markdownTableBodyNone">Relay2   </td><td class="markdownTableBodyNone">Relay4   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md679"></a>
Open-Collector (OC) Outputs</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">UI Label   </th><th class="markdownTableHeadNone">HAL Pin   </th><th class="markdownTableHeadNone">PoKeys57CNC   </th><th class="markdownTableHeadNone">PoKeys57CNCpro4x25   </th><th class="markdownTableHeadNone">PoKeysCNCaddon    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone"><code>pokeys.[DevID].PEv2.digout.ExternalOC-0.out</code>   </td><td class="markdownTableBodyNone">OC1   </td><td class="markdownTableBodyNone">OC1   </td><td class="markdownTableBodyNone">OC1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone"><code>pokeys.[DevID].PEv2.digout.ExternalOC-1.out</code>   </td><td class="markdownTableBodyNone">OC2   </td><td class="markdownTableBodyNone">OC2   </td><td class="markdownTableBodyNone">OC2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone"><code>pokeys.[DevID].PEv2.digout.ExternalOC-2.out</code>   </td><td class="markdownTableBodyNone">OC3   </td><td class="markdownTableBodyNone">OC3   </td><td class="markdownTableBodyNone">OC3    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone"><code>pokeys.[DevID].PEv2.digout.ExternalOC-3.out</code>   </td><td class="markdownTableBodyNone">OC4   </td><td class="markdownTableBodyNone">OC4   </td><td class="markdownTableBodyNone">OC4   </td></tr>
</table>
<blockquote class="doxtable">
<p >&zwj;ℹ️ <b>Note:</b> These mappings are automatically applied at runtime based on the detected device type. You don't need to change your HAL file — the component ensures correct hardware control behind the scenes. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md680"></a>
&lt;/blockquote&gt;</h1>
<h4><a class="anchor" id="autotoc_md681"></a>
Example Usage</h4>
<p >You can assign a logical signal to control a relay like this:</p>
<div class="fragment"><div class="line">net floodlight-control =&gt; pokeys.0.PEv2_digout_ExternalRelay_out[2]</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md682"></a>
MPG jog setup</h3>
<p ><img src="https://github.com/user-attachments/assets/860896a5-b3c9-4c95-8bd4-eb01fc9b2f43" alt="image" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md683"></a>
Pulse Engine State</h3>
<p ><img src="https://github.com/user-attachments/assets/441ab118-b71e-4c6e-b30c-4ac1906a8ee7" alt="image" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md684"></a>
Parameters</h3>
<h1><a class="anchor" id="autotoc_md685"></a>
Documentation</h1>
<p >The documentation provides clear instructions on running tests, setup steps for hardware-dependent tests, and interpreting test results and coverage reports. It is essential to keep the documentation up to date as new features are implemented and tests are added.</p>
<p >By following these instructions, you can ensure the reliability, correctness, and performance of the <code>pokeys_py</code> component, making it easier to maintain and develop in the future.</p>
<h1><a class="anchor" id="autotoc_md686"></a>
Contributing</h1>
<p >We welcome contributions from the community to help improve the project. Please take a moment to review the CONTRIBUTING.md file for guidelines on how to contribute.</p>
<h1><a class="anchor" id="autotoc_md687"></a>
License</h1>
<p >This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for more details.</p>
<h1><a class="anchor" id="autotoc_md688"></a>
Branch Naming Conventions</h1>
<p >To keep the repository organized, please follow these branch naming conventions:</p>
<ul>
<li><b>Feature Branches</b>: <code>feature/{feature-name}</code></li>
<li><b>Bug Fix Branches</b>: <code>bugfix/{bug-name}</code></li>
<li><b>Improvement Branches</b>: <code>improvement/{improvement-name}</code></li>
<li><b>Hotfix Branches</b>: <code>hotfix/{hotfix-name}</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md689"></a>
Creating Separate Branches for Each Feature or Bug Fix</h1>
<p >Each new feature or bug fix should have its own branch created from the latest version of the main branch. The branch should focus on one feature or issue to ensure isolated development.</p>
<h1><a class="anchor" id="autotoc_md690"></a>
Conformity with LinuxCNC Guidelines and Canonical Device Interface</h1>
<p >This repository aligns with LinuxCNC’s development practices and canonical interfaces. The components have been reviewed and updated to follow LinuxCNC coding guidelines, ensuring that HAL and INI files conform to LinuxCNC’s structure and formatting. Real-time components comply with LinuxCNC’s real-time constraints, and all components follow the canonical interface definitions. The code adheres to LinuxCNC's code style and formatting guidelines, and test cases have been created and run to validate conformity.</p>
<h1><a class="anchor" id="autotoc_md691"></a>
GitHub Discussions</h1>
<p >We encourage the use of GitHub Discussions for questions, feature requests, and ideas before creating issues or pull requests. This helps keep the issue tracker focused on actionable items and fosters community engagement.</p>
<h2><a class="anchor" id="autotoc_md692"></a>
Available Categories</h2>
<p >We have created the following categories in GitHub Discussions to help organize conversations:</p>
<ul>
<li><b>General Q&amp;A</b>: For users to ask questions or seek clarification on how to use the repository.</li>
<li><b>Feature Requests</b>: For proposing new features or enhancements.</li>
<li><b>Ideas &amp; Brainstorming</b>: For discussing ideas that are still in the conceptual stage.</li>
<li><b>Show and Tell</b>: For users to share how they are using the project in their own implementations.</li>
<li><b>Announcements</b>: For maintainers to share important updates, releases, or roadmaps.</li>
<li><b>Bug Reports</b>: For reporting bugs and discussing potential fixes.</li>
</ul>
<h2><a class="anchor" id="autotoc_md693"></a>
Guidelines for Starting a Discussion</h2>
<p >When starting a discussion, please follow these guidelines:</p>
<ol type="1">
<li><b>Choose the Appropriate Category</b>: Select the category that best fits your topic to help keep discussions organized.</li>
<li><b>Provide a Clear Title</b>: Use a clear and descriptive title for your discussion.</li>
<li><b>Include Relevant Details</b>: Provide as much relevant information as possible to help others understand your question, idea, or request.</li>
<li><b>Be Respectful and Constructive</b>: Follow the project's Code of Conduct and engage in respectful and constructive conversations.</li>
</ol>
<h2><a class="anchor" id="autotoc_md694"></a>
When to Use Discussions Instead of Issues or Pull Requests</h2>
<p >Use GitHub Discussions for:</p>
<ul>
<li>General questions or clarifications about the project.</li>
<li>Proposing new features or enhancements before creating a feature request issue.</li>
<li>Sharing ideas and brainstorming with the community.</li>
<li>Showcasing how you are using the project in your own implementations.</li>
<li>Reporting bugs and discussing potential fixes before creating a bug report issue.</li>
</ul>
<p >By using GitHub Discussions effectively, we can build a stronger community around the project and make the repository more welcoming to both new and experienced users.</p>
<p >You can access the GitHub Discussions for this repository <a href="https://github.com/zarfld/LinuxCnc_PokeysLibComp/discussions">here</a>.</p>
<h1><a class="anchor" id="autotoc_md695"></a>
Sponsorship</h1>
<p >We appreciate your interest in supporting the LinuxCnc_PokeysLibComp project! Your sponsorship helps us continue to develop and maintain this project. Here are some ways you can sponsor us:</p>
<ul>
<li><b>GitHub Sponsors</b>: You can sponsor us directly through GitHub Sponsors. Visit our <a href="https://github.com/sponsors/zarfld">GitHub Sponsors page</a> to learn more and become a sponsor.</li>
<li><b>PayPal</b>: Make a one-time donation via PayPal. Visit our <a href="https://www.paypal.com/donate/?business=YJFUYJK44JFX6&amp;no_recurring=0&amp;item_name=Supporting+the+LinuxCnc_PokeysLibComp+project%21+Your+sponsorship+helps+us+continue+to+develop+and+maintain+this+project.&amp;currency_code=EUR">PayPal donation page</a> to contribute.</li>
</ul>
<p >For more detailed information on sponsorship tiers and benefits, as well as instructions on how to sponsor through GitHub Sponsors and PayPal, please refer to our Sponsorship Page.</p>
<p >Thank you for your support! </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
