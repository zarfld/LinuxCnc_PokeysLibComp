<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LinuxCNC PoKeysLib-Comp: HAL Pin/Parameter Naming Convention Analysis for pokeys_async</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">LinuxCNC PoKeysLib-Comp
   </div>
   <div id="projectbrief">unofficial PoKeys HAL-Component for LinuxCNC</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__home_cnc_actions_runner__work_LinuxCnc_PokeysLibComp_LinuxCnc_PokeysLibComp_external_pokeysH827afaa96ef7b9b1b8beb9622948f7c1.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">HAL Pin/Parameter Naming Convention Analysis for pokeys_async </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md189"></a>
Overview</h1>
<p >This document analyzes the HAL pin and parameter naming conventions from the existing LinuxCNC PoKeys userspace components to establish consistent naming patterns for the new <code>pokeys_async</code> component.</p>
<h1><a class="anchor" id="autotoc_md190"></a>
Analysis Summary</h1>
<p >After examining 7 userspace components from the LinuxCNC_PokeysLibComp repository, clear naming patterns have been identified that should be maintained for compatibility.</p>
<h1><a class="anchor" id="autotoc_md191"></a>
Component Analysis Results</h1>
<h2><a class="anchor" id="autotoc_md192"></a>
1. PulseEngine Component (PokeysCompPulsEngine_base.c)</h2>
<p ><b>Naming Pattern:</b> <code>s.PEv2.%01d.function-name</code></p><ul>
<li><code>s.PEv2.%01d.joint-pos-cmd</code> - Position command input</li>
<li><code>s.PEv2.%01d.joint-vel-cmd</code> - Velocity command input <br  />
</li>
<li><code>s.PEv2.%01d.joint-pos-fb</code> - Position feedback output</li>
<li><code>s.PEv2.%01d.digin.Home.in</code> - Digital input pins</li>
<li><code>s.PEv2.%01d.digin.LimitN.in</code> - Limit switch inputs</li>
<li><code>s.PEv2.deb.out</code> - Debug output</li>
</ul>
<h2><a class="anchor" id="autotoc_md193"></a>
2. Encoder Component (PoKeysCompEncoders.c)</h2>
<p ><b>Naming Pattern:</b> <code>s.encoder.%01d.function-name</code></p><ul>
<li><code>s.encoder.%01d.count</code> - Encoder count output (s32)</li>
<li><code>s.encoder.%01d.position</code> - Encoder position output (float)</li>
<li><code>s.encoder.%01d.velocity</code> - Encoder velocity output (float)</li>
<li><code>s.encoder.%01d.reset</code> - Encoder reset input (bit)</li>
<li><code>s.encoder.%01d.index-enable</code> - Index enable input (bit)</li>
<li><code>s.encoder.%01d.scale</code> - Scale parameter (float, rw)</li>
<li><code>s.encoder.deb.out</code> - Debug output</li>
</ul>
<h2><a class="anchor" id="autotoc_md194"></a>
3. Main Component (pokeys.c)</h2>
<p ><b>Naming Pattern:</b> <code>s.subsystem.function-name</code></p><ul>
<li><code>s.enum-usb-dev</code> - USB device enumeration</li>
<li><code>s.enum-fusb-dev</code> - Fast USB device enumeration</li>
<li><code>s.enum-udp-dev</code> - UDP device enumeration</li>
<li><code>s.deb.out</code> - Debug output</li>
<li><code>s.err</code> - Error status</li>
<li><code>s.connected</code> - Connection status</li>
<li><code>s.connected.usb</code> - USB connection status</li>
<li><code>s.connected.udp</code> - UDP connection status</li>
<li><code>s.alive</code> - Alive status</li>
<li><code>s.machine-is-on</code> - Machine status input</li>
<li><code>s.info.PinCount</code> - Device info pins</li>
<li><code>s.rtc.sec</code> - Real-time clock pins</li>
</ul>
<h2><a class="anchor" id="autotoc_md195"></a>
4. IO Component (PoKeysCompIO.c)</h2>
<p ><b>Naming Pattern:</b> <code>s.io-type.%01d.function-name</code></p><ul>
<li><code>s.adcout.%01d.value</code> - Analog output value input (float)</li>
<li><code>s.adcout.%01d.enable</code> - Analog output enable input (bit)</li>
<li><code>s.adcout.%01d.deb.out</code> - Debug output (u32)</li>
<li><code>s.adcout.%01d.offset</code> - Offset parameter (float, rw)</li>
<li><code>s.adcout.%01d.scale</code> - Scale parameter (float, rw)</li>
<li><code>s.adcin.%01d.value</code> - Analog input value output (float)</li>
<li><code>s.adcin.%01d.value-raw</code> - Raw analog input (float)</li>
<li><code>s.digin.%01d.in</code> - Digital input (bit)</li>
<li><code>s.digin.%01d.in-not</code> - Inverted digital input (bit)</li>
<li><code>s.digout.%01d.out</code> - Digital output (bit)</li>
<li><code>s.counter.%01d.value</code> - Counter value (u32)</li>
</ul>
<h2><a class="anchor" id="autotoc_md196"></a>
5. PoNET Component (PoKeysCompPoNet.c)</h2>
<p ><b>Naming Pattern:</b> <code>s.kbd48CNC.%01d.function-name</code></p><ul>
<li><code>s.kbd48CNC.%01d.Button.%01d</code> - Button input (48 buttons)</li>
<li><code>s.kbd48CNC.%01d.Led.%01d.out</code> - LED output (48 LEDs)</li>
<li><code>s.kbd48CNC.%01d.LedPWM.%01d</code> - LED PWM control</li>
<li><code>s.kbd48CNC.%01d.Brightness</code> - Overall brightness control</li>
</ul>
<h2><a class="anchor" id="autotoc_md197"></a>
6. PoExtBus Component (PoKeysCompPoExtBus.c)</h2>
<p ><b>Naming Pattern:</b> <code>s.PoExtBus.%01d.function-name</code></p><ul>
<li>Device-specific naming for extended bus devices</li>
</ul>
<h2><a class="anchor" id="autotoc_md198"></a>
7. Parameter Naming Conventions</h2>
<h3><a class="anchor" id="autotoc_md199"></a>
Standard Parameter Types:</h3>
<ul>
<li><b>Read/Write Parameters:</b> <code>HAL_RW</code> for user-configurable values</li>
<li><b>Read-Only Parameters:</b> <code>HAL_RO</code> for status/info values</li>
<li><b>Common Parameters:</b><ul>
<li><code>.scale</code> - Scaling factors (float, rw)</li>
<li><code>.offset</code> - Offset values (float, rw)</li>
<li><code>.invert</code> - Inversion flags (bit, rw)</li>
<li><code>.enable</code> - Enable flags (bit, rw)</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md200"></a>
Recommended Naming Standard for pokeys_async</h1>
<h2><a class="anchor" id="autotoc_md201"></a>
Base Component Name</h2>
<ul>
<li>Component name: **<code>pokeys_async</code>** (as specified by user)</li>
<li>Prefix format: <code>pokeys_async.N</code> where N is the instance number</li>
</ul>
<h2><a class="anchor" id="autotoc_md202"></a>
Pin Naming Convention</h2>
<div class="fragment"><div class="line">pokeys_async.N.subsystem.channel.function-name</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md203"></a>
Subsystem Categories</h2>
<h3><a class="anchor" id="autotoc_md204"></a>
1. System Status &amp; Control</h3>
<div class="fragment"><div class="line">pokeys_async.N.connected          - Connection status (bit, out)</div>
<div class="line">pokeys_async.N.alive              - Component alive status (bit, out)  </div>
<div class="line">pokeys_async.N.err                - Error status (bit, out)</div>
<div class="line">pokeys_async.N.machine-is-on      - Machine enable input (bit, in)</div>
<div class="line">pokeys_async.N.deb.out            - Debug output (s32, out)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md205"></a>
2. Digital I/O</h3>
<div class="fragment"><div class="line">pokeys_async.N.digin.MM.in         - Digital input pin MM (bit, out)</div>
<div class="line">pokeys_async.N.digin.MM.in-not     - Inverted digital input MM (bit, out)</div>
<div class="line">pokeys_async.N.digout.MM.out       - Digital output pin MM (bit, in)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md206"></a>
3. Analog I/O</h3>
<div class="fragment"><div class="line">pokeys_async.N.adcin.MM.value      - Analog input MM scaled value (float, out)</div>
<div class="line">pokeys_async.N.adcin.MM.value-raw  - Analog input MM raw value (float, out)</div>
<div class="line">pokeys_async.N.adcout.MM.value     - Analog output MM value (float, in)</div>
<div class="line">pokeys_async.N.adcout.MM.enable    - Analog output MM enable (bit, in)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md207"></a>
4. Encoders</h3>
<div class="fragment"><div class="line">pokeys_async.N.encoder.MM.count    - Encoder MM count (s32, out)</div>
<div class="line">pokeys_async.N.encoder.MM.position - Encoder MM position (float, out)</div>
<div class="line">pokeys_async.N.encoder.MM.velocity - Encoder MM velocity (float, out)</div>
<div class="line">pokeys_async.N.encoder.MM.reset    - Encoder MM reset (bit, in)</div>
<div class="line">pokeys_async.N.encoder.MM.index-enable - Encoder MM index enable (bit, in)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md208"></a>
5. Pulse Engine v2</h3>
<div class="fragment"><div class="line">pokeys_async.N.PEv2.MM.joint-pos-cmd  - Joint MM position command (float, in)</div>
<div class="line">pokeys_async.N.PEv2.MM.joint-vel-cmd  - Joint MM velocity command (float, in)</div>
<div class="line">pokeys_async.N.PEv2.MM.joint-pos-fb   - Joint MM position feedback (float, out)</div>
<div class="line">pokeys_async.N.PEv2.MM.digin.Home.in  - Joint MM home input (bit, out)</div>
<div class="line">pokeys_async.N.PEv2.MM.digin.LimitN.in - Joint MM negative limit (bit, out)</div>
<div class="line">pokeys_async.N.PEv2.MM.digin.LimitP.in - Joint MM positive limit (bit, out)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md209"></a>
6. PoNET kbd48CNC</h3>
<div class="fragment"><div class="line">pokeys_async.N.kbd48CNC.MM.Button.NN    - Device MM Button NN (bit, out)</div>
<div class="line">pokeys_async.N.kbd48CNC.MM.Led.NN.out   - Device MM LED NN (bit, in)</div>
<div class="line">pokeys_async.N.kbd48CNC.MM.LedPWM.NN    - Device MM LED NN PWM (u32, in)</div>
<div class="line">pokeys_async.N.kbd48CNC.MM.Brightness   - Device MM brightness (u32, in)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md210"></a>
7. Counters</h3>
<div class="fragment"><div class="line">pokeys_async.N.counter.MM.value     - Counter MM value (u32, out)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md211"></a>
Parameter Naming Convention</h2>
<h3><a class="anchor" id="autotoc_md212"></a>
System Parameters</h3>
<div class="fragment"><div class="line">pokeys_async.N.devSerial           - Device serial number (u32, rw)</div>
<div class="line">pokeys_async.N.info.DeviceTypeID   - Device type ID (u32, ro)</div>
<div class="line">pokeys_async.N.info.SerialNumber   - Device serial number (u32, ro)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md213"></a>
I/O Parameters</h3>
<div class="fragment"><div class="line">pokeys_async.N.digin.MM.invert      - Digital input MM invert (bit, rw)</div>
<div class="line">pokeys_async.N.digout.MM.invert     - Digital output MM invert (bit, rw)</div>
<div class="line">pokeys_async.N.adcin.MM.scale       - Analog input MM scale (float, rw)</div>
<div class="line">pokeys_async.N.adcin.MM.offset      - Analog input MM offset (float, rw)</div>
<div class="line">pokeys_async.N.adcout.MM.scale      - Analog output MM scale (float, rw)</div>
<div class="line">pokeys_async.N.adcout.MM.offset     - Analog output MM offset (float, rw)</div>
<div class="line">pokeys_async.N.adcout.MM.high-limit - Analog output MM high limit (float, rw)</div>
<div class="line">pokeys_async.N.adcout.MM.low-limit  - Analog output MM low limit (float, rw)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md214"></a>
Encoder Parameters</h3>
<div class="fragment"><div class="line">pokeys_async.N.encoder.MM.scale     - Encoder MM scale factor (float, rw)</div>
<div class="line">pokeys_async.N.encoder.MM.enable    - Encoder MM enable (bit, rw)</div>
<div class="line">pokeys_async.N.encoder.MM.4x-sampling - Encoder MM 4x sampling (bit, rw)</div>
<div class="line">pokeys_async.N.encoder.MM.2x-sampling - Encoder MM 2x sampling (bit, rw)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md215"></a>
Implementation Guidelines</h1>
<h2><a class="anchor" id="autotoc_md216"></a>
1. Formatting Rules</h2>
<ul>
<li>Use lowercase for all pin/parameter names</li>
<li>Use hyphens (-) for multi-word names, not underscores</li>
<li>Use dots (.) as hierarchical separators</li>
<li>Use %01d for single-digit zero-padded numbers</li>
<li>Use %02d for double-digit zero-padded numbers when needed</li>
</ul>
<h2><a class="anchor" id="autotoc_md217"></a>
2. Data Types</h2>
<ul>
<li><b>bit:</b> Boolean values (0/1)</li>
<li><b>s32:</b> Signed 32-bit integers <br  />
</li>
<li><b>u32:</b> Unsigned 32-bit integers</li>
<li><b>float:</b> Floating-point values</li>
</ul>
<h2><a class="anchor" id="autotoc_md218"></a>
3. Direction Convention</h2>
<ul>
<li><b>HAL_IN:</b> Input to the component (from LinuxCNC to hardware)</li>
<li><b>HAL_OUT:</b> Output from the component (from hardware to LinuxCNC)</li>
<li><b>HAL_RW:</b> Read/write parameters (user configurable)</li>
<li><b>HAL_RO:</b> Read-only parameters (status/info)</li>
</ul>
<h2><a class="anchor" id="autotoc_md219"></a>
4. Debug Pins</h2>
<ul>
<li>Always include <code>.deb.out</code> pins for major subsystems</li>
<li>Use s32 type for debug outputs</li>
<li>Increment debug values to track execution flow</li>
</ul>
<h2><a class="anchor" id="autotoc_md220"></a>
5. Compatibility Notes</h2>
<ul>
<li>Pin names should be compatible with existing HAL configurations</li>
<li>Parameter names should match existing userspace component patterns</li>
<li>Maintain consistent numbering schemes (0-based indexing)</li>
</ul>
<h1><a class="anchor" id="autotoc_md221"></a>
Conclusion</h1>
<p >This naming convention analysis provides a comprehensive framework for implementing HAL pins and parameters in the <code>pokeys_async</code> component while maintaining compatibility with existing LinuxCNC PoKeys installations. The patterns identified ensure consistency, readability, and ease of use for integrators configuring PoKeys devices in LinuxCNC systems.</p>
<p >The next step is to implement these naming conventions in the <code>pokeys_async</code> component HAL interface layer, ensuring all pin and parameter exports follow these established patterns. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
